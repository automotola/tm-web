(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{551:function(n,e){n.exports=function(n){!function(n){if(!n)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],t=0;t<e.length;++t)if(n.hasOwnProperty(e[t]))throw new Error("Subject cannot be eventified, since it already has property '"+e[t]+"'")}(n);var e=function(n){var e=Object.create(null);return{on:function(t,r,o){if("function"!=typeof r)throw new Error("callback is expected to be a function");var i=e[t];return i||(i=e[t]=[]),i.push({callback:r,ctx:o}),n},off:function(t,r){var o=void 0===t;if(o)return e=Object.create(null),n;if(e[t]){var i="function"!=typeof r;if(i)delete e[t];else for(var u=e[t],a=0;a<u.length;++a)u[a].callback===r&&u.splice(a,1)}return n},fire:function(t){var r,o=e[t];if(!o)return n;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var i=0;i<o.length;++i){var u=o[i];u.callback.apply(u.ctx,r)}return n}}}(n);return n.on=e.on,n.off=e.off,n.fire=e.fire,n}},560:function(n,e){function t(n){var e="number"==typeof n?n:+new Date,t=function(){return(268435455&(e=4294967295&(3042594569^(e=(e=4294967295&((e=(e=4294967295&(3345072700^(e=e+2127912214+(e<<12)&4294967295)^e>>>19))+374761393+(e<<5)&4294967295)+3550635116^e<<9))+4251993797+(e<<3)&4294967295)^e>>>16)))/268435456};return{next:function(n){return Math.floor(t()*n)},nextDouble:function(){return t()}}}n.exports={random:t,randomIterator:function(n,e){var r=e||t();if("function"!=typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var t,o,i;for(t=n.length-1;t>0;--t)o=r.next(t+1),i=n[o],n[o]=n[t],n[t]=i,e(i);n.length&&e(n[0])},shuffle:function(){var e,t,o;for(e=n.length-1;e>0;--e)t=r.next(e+1),o=n[t],n[t]=n[e],n[e]=o;return n}}}}},561:function(n,e){n.exports=function n(e,t){var r;e||(e={});if(t)for(r in t)if(t.hasOwnProperty(r)){var o=e.hasOwnProperty(r),i=typeof t[r],u=!o||typeof e[r]!==i;u?e[r]=t[r]:"object"===i&&(e[r]=n(e[r],t[r]))}return e}},575:function(n,e){function t(n,e,t,r){for(var o=0;o<r;++o)n[e+o]=n[t+o]}function r(n,e,t,r){for(var o=0;o<r;++o){var i=n[e+o];n[e+o]=n[t+o],n[t+o]=i}}n.exports=function(n){return{createProgram:function(t,r){var o=n.createProgram(),i=e(t,n.VERTEX_SHADER),u=e(r,n.FRAGMENT_SHADER);if(n.attachShader(o,i),n.attachShader(o,u),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS)){var a=n.getShaderInfoLog(o);throw window.alert(a),a}return o},extendArray:function(n,e,t){if((e+1)*t>n.length){var r=new Float32Array(n.length*t*2);return r.set(n),r}return n},copyArrayPart:t,swapArrayPart:r,getLocations:function(e,t){for(var r={},o=0;o<t.length;++o){var i=t[o],u=-1;if("a"===i[0]&&"_"===i[1]){if(-1===(u=n.getAttribLocation(e,i)))throw new Error("Program doesn't have required attribute: "+i);r[i.slice(2)]=u}else{if("u"!==i[0]||"_"!==i[1])throw new Error("Couldn't figure out your intent. All uniforms should start with 'u_' prefix, and attributes with 'a_'");if(null===(u=n.getUniformLocation(e,i)))throw new Error("Program doesn't have required uniform: "+i);r[i.slice(2)]=u}}return r},context:n};function e(e,t){var r=n.createShader(t);if(n.shaderSource(r,e),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS)){var o=n.getShaderInfoLog(r);throw window.alert(o),o}return r}}},596:function(n,e,t){n.exports=function(n,e){var t={};return{bindDragNDrop:function(n,o){var i;if(o){var u=e.getNodeUI(n.id);i=r(u),"function"==typeof o.onStart&&i.onStart(o.onStart),"function"==typeof o.onDrag&&i.onDrag(o.onDrag),"function"==typeof o.onStop&&i.onStop(o.onStop),t[n.id]=i}else(i=t[n.id])&&(i.release(),delete t[n.id])}}};var r=t(597)},597:function(n,e,t){n.exports=function(n){var e,t,u,a,f,s,c,d=0,l=0,p=!1,v=0,h=function(n,e,r){t&&t(n,{x:e-d,y:r-l}),d=e,l=r},m=function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},g=function(n){n.preventDefault&&n.preventDefault()},y=function(n){return m(n),!1},x=function(n){n=n||window.event,h(n,n.clientX,n.clientY)},w=function(n){if(n=n||window.event,p)return m(n),!1;var t=1===n.button&&null!==window.event||0===n.button;return t?(d=n.clientX,l=n.clientY,c=n.target||n.srcElement,e&&e(n,{x:d,y:l}),r.on("mousemove",x),r.on("mouseup",b),m(n),f=window.document.onselectstart,s=window.document.ondragstart,window.document.onselectstart=y,c.ondragstart=y,!1):void 0},b=function(n){n=n||window.event,r.off("mousemove",x),r.off("mouseup",b),window.document.onselectstart=f,c.ondragstart=s,c=null,u&&u(n)},E=function(e){if("function"==typeof a){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1;var t,r=function(n){var e=0,t=0;(n=n||window.event).pageX||n.pageY?(e=n.pageX,t=n.pageY):(n.clientX||n.clientY)&&(e=n.clientX+window.document.body.scrollLeft+window.document.documentElement.scrollLeft,t=n.clientY+window.document.body.scrollTop+window.document.documentElement.scrollTop);return[e,t]}(e),o=i(n),u={x:r[0]-o[0],y:r[1]-o[1]};t=e.wheelDelta?e.wheelDelta/360:e.detail/-9,a(e,t,u)}},k=function(e){!a&&e?"webkit"===o.browser?n.addEventListener("mousewheel",E,!1):n.addEventListener("DOMMouseScroll",E,!1):a&&!e&&("webkit"===o.browser?n.removeEventListener("mousewheel",E,!1):n.removeEventListener("DOMMouseScroll",E,!1)),a=e},L=function(n,e){return(n.clientX-e.clientX)*(n.clientX-e.clientX)+(n.clientY-e.clientY)*(n.clientY-e.clientY)},N=function(n){if(1===n.touches.length){m(n);var e=n.touches[0];h(n,e.clientX,e.clientY)}else if(2===n.touches.length){var t=L(n.touches[0],n.touches[1]),r=0;t<v?r=-1:t>v&&(r=1),a(n,r,{x:n.touches[0].clientX,y:n.touches[0].clientY}),v=t,m(n),g(n)}},P=function(n){p=!1,r.off("touchmove",N),r.off("touchend",P),r.off("touchcancel",P),c=null,u&&u(n)},_=function(n){if(1===n.touches.length)return function(n,t){m(n),g(n),d=t.clientX,l=t.clientY,c=n.target||n.srcElement,e&&e(n,{x:d,y:l});p||(p=!0,r.on("touchmove",N),r.on("touchend",P),r.on("touchcancel",P))}(n,n.touches[0]);2===n.touches.length&&(m(n),g(n),v=L(n.touches[0],n.touches[1]))};return n.addEventListener("mousedown",w),n.addEventListener("touchstart",_),{onStart:function(n){return e=n,this},onDrag:function(n){return t=n,this},onStop:function(n){return u=n,this},onScroll:function(n){return k(n),this},release:function(){n.removeEventListener("mousedown",w),n.removeEventListener("touchstart",_),r.off("mousemove",x),r.off("mouseup",b),r.off("touchmove",N),r.off("touchend",P),r.off("touchcancel",P),k(null)}}};var r=t(614),o=t(616),i=t(617)},598:function(n,e){function t(n,e,t){if(n.hasOwnProperty(t)){if("function"==typeof e[t])return;e[t]=function(r){return void 0!==r?(n[t]=r,e):n[t]}}}n.exports=function(n,e,r){if("[object Array]"===Object.prototype.toString.call(r))for(var o=0;o<r.length;++o)t(n,e,r[o]);else for(var i in n)t(n,e,i)}},599:function(n,e){n.exports=function(n){var e=10414335;if("string"==typeof n&&n)if(4===n.length&&(n=n.replace(/([^#])/g,"$1$1")),9===n.length)e=parseInt(n.substr(1),16);else{if(7!==n.length)throw'Color expected in hex format with preceding "#". E.g. #00ff00. Got value: '+n;e=parseInt(n.substr(1),16)<<8|255}else"number"==typeof n&&(e=n);return e}},600:function(n,e,t){n.exports=a,a.compile=t(721);var r=a.compileTemplate=t(723),o=t(724),i="http://www.w3.org/2000/svg",u="http://www.w3.org/1999/xlink";function a(n,e){var t=function(n){var e,t=n;if("string"==typeof n)t=window.document.createElementNS(i,n);else if(n.simplesvg)return n;return t.simplesvg=!0,t.attr=function(n,e){return 2===arguments.length?(null!==e?t.setAttributeNS(null,n,e):t.removeAttributeNS(null,n),t):t.getAttributeNS(null,n)},t.append=function(n){var e=a(n);return t.appendChild(e),e},t.link=function(n){return arguments.length?(t.setAttributeNS(u,"xlink:href",n),t):t.getAttributeNS(u,"xlink:href")},t.text=function(n){return void 0!==n?(t.textContent=n,t):t.textContent},t.on=function(n,e,r){return o.addEventListener(t,n,e,r),t},t.off=function(n,e,r){return o.removeEventListener(t,n,e,r),t},t.dataSource=function(n){return e||(e=r(t)),e.link(n),t},t}(n);if(void 0===e)return t;for(var f=Object.keys(e),s=0;s<f.length;++s){var c=f[s],d=e[c];"link"===c?t.link(d):t.attr(c,d)}return t}},611:function(n,e,t){var r=t(560),o={lazyExtend:function(){return t(561).apply(this,arguments)},randomIterator:function(){return r.randomIterator.apply(r,arguments)},random:function(){return r.random.apply(r,arguments)},events:t(551)};o.Graph={version:t(692),graph:t(693),serializer:function(){return{loadFromJSON:t(694),storeToJSON:t(696)}},centrality:t(697),operations:t(701),geom:function(){return{intersect:t(612),intersectRect:t(702)}},webgl:t(575),webglInputEvents:t(613),generator:function(){return t(703)},Input:{domInputManager:t(596),webglInputManager:t(618)},Utils:{dragndrop:t(597),findElementPosition:t(617),timer:t(619),getDimension:t(620),events:t(705)},Layout:{forceDirected:t(621),constant:t(717)},View:{Texture:t(624),webglAtlas:t(625),webglImageNodeProgram:t(718),webglLinkProgram:t(626),webglNodeProgram:t(627),webglLine:t(628),webglSquare:t(629),webglImage:t(719),webglGraphics:t(720),_webglUtil:{parseColor:t(599)},svgGraphics:t(630),renderer:t(725),cssGraphics:function(){throw new Error("cssGraphics is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},svgNodeFactory:function(){throw new Error("svgNodeFactory is deprecated. Please use older version of vivagraph (< 0.7) if you need it")},community:function(){throw new Error("community is deprecated. Please use vivagraph < 0.7 if you need it, or `https://github.com/anvaka/ngraph.slpa` module")}},Rect:t(623),svg:t(600),BrowserInfo:t(616)},n.exports=o},612:function(n,e){n.exports=function(n,e,t,r,o,i,u,a){var f,s,c,d,l,p,v,h,m,g,y,x,w={x:0,y:0};if(g=(f=r-e)*u+(c=n-t)*a+(l=t*e-n*r),0!==(m=f*o+c*i+l)&&0!==g&&m>=0==g>=4)return null;if(h=(s=a-i)*t+(d=o-u)*r+(p=u*i-o*a),0!==(v=s*n+d*e+p)&&0!==h&&v>=0==h>=0)return null;if(0==(y=f*d-s*c))return null;return y<0?-y/2:y/2,0,x=c*p-d*l,w.x=(x<0?x-0:x+0)/y,x=s*l-f*p,w.y=(x<0?x-0:x+0)/y,w}},613:function(n,e,t){var r=t(614);n.exports=function(n){if(n.webglInputEvents)return n.webglInputEvents;var e,t,o=null,i=[],u=[],a=[],f=[],s=[],c=[],d=[];!function(n){var l={x:0,y:0},p=null,y=1,x=+new Date,w=function(n){g(s,[p,n]),l.x=n.clientX,l.y=n.clientY},b=function(){r.off("mousemove",w),r.off("mouseup",b)},E=function(){t=n.getBoundingClientRect()};window.addEventListener("resize",E),E(),n.addEventListener("mousemove",function(n){if(!o){y++%7==0&&(E(),y=1);var e,r=!1;l.x=n.clientX-t.left,l.y=n.clientY-t.top,(e=v(l))&&p!==e?(p=e,r=r||g(i,[p])):null===e&&p!==e&&(r=r||g(u,[p]),p=null),r&&h(n)}}),n.addEventListener("mousedown",function(n){var o,i=!1;E(),l.x=n.clientX-t.left,l.y=n.clientY-t.top,(o=[v(l),n])[0]?(i=g(a,o),r.on("mousemove",w),r.on("mouseup",b),e=window.document.onselectstart,window.document.onselectstart=m,p=o[0]):p=null,i&&h(n)}),n.addEventListener("mouseup",function(n){var r,o=+new Date;l.x=n.clientX-t.left,l.y=n.clientY-t.top;var i=v(l),u=i===p;(r=[i||p,n])[0]&&(window.document.onselectstart=e,g(o-x<400&&u?d:c,r),x=o,g(f,r)&&h(n))})}(n.getGraphicsRoot());var l={mouseEnter:function(n){"function"==typeof n&&i.push(n);return l},mouseLeave:function(n){"function"==typeof n&&u.push(n);return l},mouseDown:function(n){"function"==typeof n&&a.push(n);return l},mouseUp:function(n){"function"==typeof n&&f.push(n);return l},mouseMove:function(n){"function"==typeof n&&s.push(n);return l},click:function(n){"function"==typeof n&&c.push(n);return l},dblClick:function(n){"function"==typeof n&&d.push(n);return l},mouseCapture:function(n){o=n},releaseMouseCapture:function(){o=null}};return n.webglInputEvents=l,l;function p(n,e,t){if(n&&n.size){var r=n.position,o=n.size;return r.x-o<e&&e<r.x+o&&r.y-o<t&&t<r.y+o}return!0}function v(e){return n.getNodeAtClientPos(e,p)}function h(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}function m(n){return h(n),!1}function g(n,e){var t;for(t=0;t<n.length;t+=1)if(n[t].apply(void 0,e))return!0}}},614:function(n,e,t){var r=t(615);function o(n,e){document.addEventListener(n,e)}function i(n,e){document.removeEventListener(n,e)}n.exports=function(){if(void 0===typeof document)return r;return{on:o,off:i}}()},615:function(n,e){function t(){}n.exports={on:t,off:t,stop:t}},616:function(n,e){n.exports=function(){if("undefined"==typeof window||!window.hasOwnProperty("navigator"))return{browser:"",version:"0"};var n=window.navigator.userAgent.toLowerCase(),e=/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(n)||[];return{browser:e[1]||"",version:e[2]||"0"}}()},617:function(n,e){n.exports=function(n){var e=0,t=0;if(n.offsetParent)do{e+=n.offsetLeft,t+=n.offsetTop}while(null!==(n=n.offsetParent));return[e,t]}},618:function(n,e,t){n.exports=function(n,e){var t=r(e),o=null,i={},u={x:0,y:0};return t.mouseDown(function(n,e){o=n,u.x=e.clientX,u.y=e.clientY,t.mouseCapture(o);var r=i[n.id];return r&&r.onStart&&r.onStart(e,u),!0}).mouseUp(function(n){t.releaseMouseCapture(o),o=null;var e=i[n.id];return e&&e.onStop&&e.onStop(),!0}).mouseMove(function(n,e){if(o){var t=i[o.id];return t&&t.onDrag&&t.onDrag(e,{x:e.clientX-u.x,y:e.clientY-u.y}),u.x=e.clientX,u.y=e.clientY,!0}}),{bindDragNDrop:function(n,e){i[n.id]=e,e||delete i[n.id]}}};var r=t(613)},619:function(n,e,t){(function(e){function t(){}n.exports=function(){var n,r,o=0,i=["ms","moz","webkit","o"];r="undefined"!=typeof window?window:void 0!==e?e:{setTimeout:t,clearTimeout:t};for(n=0;n<i.length&&!r.requestAnimationFrame;++n){var u=i[n];r.requestAnimationFrame=r[u+"RequestAnimationFrame"],r.cancelAnimationFrame=r[u+"CancelAnimationFrame"]||r[u+"CancelRequestAnimationFrame"]}r.requestAnimationFrame||(r.requestAnimationFrame=function(n){var e=(new Date).getTime(),t=Math.max(0,16-(e-o)),i=r.setTimeout(function(){n(e+t)},t);return o=e+t,i});r.cancelAnimationFrame||(r.cancelAnimationFrame=function(n){r.clearTimeout(n)});return function(n){var e;return t(),{stop:o,restart:function(){e||t()}};function t(){e=r.requestAnimationFrame(t),n()||o()}function o(){r.cancelAnimationFrame(e),e=0}}}()}).call(this,t(11))},620:function(n,e){n.exports=function(n){if(!n)throw{message:"Cannot get dimensions of undefined container"};var e=n.clientWidth,t=n.clientHeight;return{left:0,top:0,width:e,height:t}}},621:function(n,e,t){n.exports=function(n,e){if(!n)throw new Error("Graph structure cannot be undefined");var i=t(622)(e),u=Object.create(null),a={},f=0,s=i.settings.springTransform||o;f=0,n.forEachNode(function(n){p(n.id),f+=1}),n.forEachLink(h),n.on("changed",l);var c=!1,d={step:function(){if(0===f)return!0;var n=i.step();d.lastMove=n,d.fire("step");var e,t=n/f,r=t<=.01;return c!==r&&(c=r,e=r,d.fire("stable",e)),r},getNodePosition:function(n){return y(n).pos},setNodePosition:function(n){var e=y(n);e.setPosition.apply(e,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(n){var e=a[n];if(e)return{from:e.from.pos,to:e.to.pos}},getGraphRect:function(){return i.getBBox()},forEachBody:function(n){Object.keys(u).forEach(function(e){n(u[e],e)})},pinNode:function(n,e){var t=y(n.id);t.isPinned=!!e},isNodePinned:function(n){return y(n.id).isPinned},dispose:function(){n.off("changed",l),d.fire("disposed")},getBody:function(n){return u[n]},getSpring:function(e,t){var r;if(void 0===t)r="object"!=typeof e?e:e.id;else{var o=n.hasLink(e,t);if(!o)return;r=o.id}return a[r]},simulator:i,graph:n,lastMove:0};return r(d),d;function l(e){for(var t=0;t<e.length;++t){var r=e[t];"add"===r.changeType?(r.node&&p(r.node.id),r.link&&h(r.link)):"remove"===r.changeType&&(r.node&&v(r.node),r.link&&m(r.link))}f=n.getNodesCount()}function p(e){var t=u[e];if(!t){var r=n.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var o=r.position;if(!o){var a=function(n){var e=[];if(!n.links)return e;for(var t=Math.min(n.links.length,2),r=0;r<t;++r){var o=n.links[r],i=o.fromId!==n.id?u[o.fromId]:u[o.toId];i&&i.pos&&e.push(i)}return e}(r);o=i.getBestNewBodyPosition(a)}(t=i.addBodyAt(o)).id=e,u[e]=t,g(e),function(n){return n&&(n.isPinned||n.data&&n.data.isPinned)}(r)&&(t.isPinned=!0)}}function v(n){var e=n.id,t=u[e];t&&(u[e]=null,delete u[e],i.removeBody(t))}function h(n){g(n.fromId),g(n.toId);var e=u[n.fromId],t=u[n.toId],r=i.addSpring(e,t,n.length);s(n,r),a[n.id]=r}function m(e){var t=a[e.id];if(t){var r=n.getNode(e.fromId),o=n.getNode(e.toId);r&&g(r.id),o&&g(o.id),delete a[e.id],i.removeSpring(t)}}function g(e){var t=u[e];t.mass=function(e){var t=n.getLinks(e);return t?1+t.length/3:1}(e)}function y(n){var e=u[n];return e||(p(n),e=u[n]),e}},n.exports.simulator=t(622);var r=t(551);function o(){}},622:function(n,e,t){n.exports=function(n){var e=t(706),r=t(598),o=t(561),i=t(551),u=(n=o(n,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||t(707),a=n.createBounds||t(711),f=n.createDragForce||t(712),s=n.createSpringForce||t(713),c=n.integrator||t(714),d=n.createBody||t(715),l=[],p=[],v=u(n),h=a(l,n),m=s(n),g=f(n),y={bodies:l,quadTree:v,springs:p,settings:n,step:function(){!function(){var n,e=l.length;if(e)for(v.insertBodies(l);e--;)(n=l[e]).isPinned||(n.force.reset(),v.updateBodyForce(n),g.update(n));e=p.length;for(;e--;)m.update(p[e])}();var e=c(l,n.timeStep);return h.update(),e},addBody:function(n){if(!n)throw new Error("Body is required");return l.push(n),n},addBodyAt:function(n){if(!n)throw new Error("Body position is required");var e=d(n);return l.push(e),e},removeBody:function(n){if(n){var e=l.indexOf(n);if(!(e<0))return l.splice(e,1),0===l.length&&h.reset(),!0}},addSpring:function(n,t,r,o,i){if(!n||!t)throw new Error("Cannot add null spring to force simulator");"number"!=typeof r&&(r=-1);var u=new e(n,t,r,i>=0?i:-1,o);return p.push(u),u},getTotalMovement:function(){return 0},removeSpring:function(n){if(n){var e=p.indexOf(n);return e>-1?(p.splice(e,1),!0):void 0}},getBestNewBodyPosition:function(n){return h.getBestNewPosition(n)},getBBox:function(){return h.box},gravity:function(e){return void 0!==e?(n.gravity=e,v.options({gravity:e}),this):n.gravity},theta:function(e){return void 0!==e?(n.theta=e,v.options({theta:e}),this):n.theta}};return r(n,y),i(y),y}},623:function(n,e){n.exports=function(n,e,t,r){this.x1=n||0,this.y1=e||0,this.x2=t||0,this.y2=r||0}},624:function(n,e){n.exports=function(n){this.canvas=window.document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.isDirty=!1,this.canvas.width=this.canvas.height=n}},625:function(n,e,t){var r=t(624);n.exports=function(n){var e,t=Math.sqrt(n||1024)<<0,o=t,i=1,u={},a=0,f=[],s=[];if(c=n,0!=(c&c-1))throw"Tiles per texture should be power of two.";var c;var d={isDirty:!1,clearDirty:function(){var n;for(d.isDirty=!1,n=0;n<f.length;++n)f[n].isDirty=!1},remove:function(n){var e=u[n];if(!e)return!1;if(delete u[n],(i-=1)===e.offset)return!0;var t=l(e.offset);return r=l(i),a=t,c=f[r.textureNumber].canvas,d=f[a.textureNumber].ctx,p=a.col*o,h=a.row*o,d.drawImage(c,r.col*o,r.row*o,o,o,p,h,o,o),f[r.textureNumber].isDirty=!0,f[a.textureNumber].isDirty=!0,u[s[i]].offset=e.offset,s[e.offset]=s[i],v(),!0;var r,a,c,d,p,h},getTextures:function(){return f},getCoordinates:function(n){return u[n]},load:function(n,e){if(u.hasOwnProperty(n))e(u[n]);else{var a=new window.Image,c=i;i+=1,a.crossOrigin="anonymous",a.onload=function(){v(),function(n,e,i){var a=l(n),c={offset:n};a.textureNumber>=f.length&&(d=new r(t*o),f.push(d));var d;var p=f[a.textureNumber];p.ctx.drawImage(e,a.col*o,a.row*o,o,o),s[n]=e.src,u[e.src]=c,p.isDirty=!0,i(c)}(c,a,e)},a.src=n}}};return d;function l(e){var r=e/n<<0,o=e%n,i=o/t<<0,u=o%t;return{textureNumber:r,row:i,col:u}}function p(){d.isDirty=!0,a=0,e=null}function v(){e&&(window.clearTimeout(e),a+=1,e=null),a>10?p():e=window.setTimeout(p,400)}}},626:function(n,e,t){var r=t(575);n.exports=function(){var n,e,t,o,i,u,a,f,s,c,d=2*(2*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT),l=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join("\n"),p=["attribute vec2 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0.0, 1.0);","   color = a_color.abgr;","}"].join("\n"),v=0,h=new ArrayBuffer(16*d),m=new Float32Array(h),g=new Uint32Array(h);return{load:function(u){e=u,o=r(u),n=o.createProgram(p,l),e.useProgram(n),i=o.getLocations(n,["a_vertexPos","a_color","u_screenSize","u_transform"]),e.enableVertexAttribArray(i.vertexPos),e.enableVertexAttribArray(i.color),t=e.createBuffer()},position:function(n,e,t){var r=n.id,o=6*r;m[o]=e.x,m[o+1]=e.y,g[o+2]=n.color,m[o+3]=t.x,m[o+4]=t.y,g[o+5]=n.color},createLink:function(n){!function(){if((v+1)*d>h.byteLength){var n=new ArrayBuffer(2*h.byteLength),e=new Float32Array(n),t=new Uint32Array(n);t.set(g),m=e,g=t,h=n}}(),v+=1,u=n.id},removeLink:function(n){v>0&&(v-=1),n.id<v&&v>0&&o.copyArrayPart(g,6*n.id,6*v,6)},updateTransform:function(n){c=!0,s=n},updateSize:function(n,e){a=n,f=e,c=!0},render:function(){e.useProgram(n),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,h,e.DYNAMIC_DRAW),c&&(c=!1,e.uniformMatrix4fv(i.transform,!1,s),e.uniform2f(i.screenSize,a,f)),e.vertexAttribPointer(i.vertexPos,2,e.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(i.color,4,e.UNSIGNED_BYTE,!0,3*Float32Array.BYTES_PER_ELEMENT,8),e.drawArrays(e.LINES,0,2*v),u=v-1},bringToFront:function(n){u>n.id&&o.swapArrayPart(m,6*n.id,6*u,6),u>0&&(u-=1)},getFrontLinkId:function(){return u}}}},627:function(n,e,t){var r=t(575);n.exports=function(){var n,e,t,o,i,u,a,f,s,c=4,d=3*Float32Array.BYTES_PER_ELEMENT+Uint32Array.BYTES_PER_ELEMENT,l=["precision mediump float;","varying vec4 color;","void main(void) {","   gl_FragColor = color;","}"].join("\n"),p=["attribute vec3 a_vertexPos;","attribute vec4 a_color;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","varying vec4 color;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos.xy/u_screenSize, 0, 1);","   gl_PointSize = a_vertexPos.z * u_transform[0][0];","   color = a_color.abgr;","}"].join("\n"),v=new ArrayBuffer(16*d),h=new Float32Array(v),m=new Uint32Array(v),g=0;return{load:function(u){e=u,i=r(u),n=i.createProgram(p,l),e.useProgram(n),o=i.getLocations(n,["a_vertexPos","a_color","u_screenSize","u_transform"]),e.enableVertexAttribArray(o.vertexPos),e.enableVertexAttribArray(o.color),t=e.createBuffer()},position:function(n,e){var t=n.id;h[t*c]=e.x,h[t*c+1]=-e.y,h[t*c+2]=n.size,m[t*c+3]=n.color},updateTransform:function(n){s=!0,f=n},updateSize:function(n,e){u=n,a=e,s=!0},removeNode:function(n){g>0&&(g-=1);n.id<g&&g>0&&i.copyArrayPart(m,n.id*c,g*c,c)},createNode:function(){(function(){if((g+1)*d>=v.byteLength){var n=new ArrayBuffer(2*v.byteLength),e=new Float32Array(n),t=new Uint32Array(n);t.set(m),h=e,m=t,v=n}})(),g+=1},replaceProperties:function(){},render:function(){e.useProgram(n),e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,v,e.DYNAMIC_DRAW),s&&(s=!1,e.uniformMatrix4fv(o.transform,!1,f),e.uniform2f(o.screenSize,u,a));e.vertexAttribPointer(o.vertexPos,3,e.FLOAT,!1,c*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o.color,4,e.UNSIGNED_BYTE,!0,c*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,0,g)}}}},628:function(n,e,t){var r=t(599);n.exports=function(n){return{color:r(n)}}},629:function(n,e,t){var r=t(599);n.exports=function(n,e){return{size:"number"==typeof n?n:10,color:r(e)}}},630:function(n,e,t){n.exports=function(){var n,e,t,u=0,a=0,f=1,s={},c={},d=function(n){return r("rect").attr("width",10).attr("height",10).attr("fill","#00a2e8")},l=function(n,e){n.attr("x",e.x-5).attr("y",e.y-5)},p=function(n){return r("line").attr("stroke","#999")},v=function(n,e,t){n.attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},h=function(n){n.fire("rescaled")},m={x:0,y:0},g={x:0,y:0},y={x:0,y:0},x=function(){if(n){var e="matrix("+f+", 0, 0,"+f+","+u+","+a+")";n.attr("transform",e)}};e=function(){var e=r("svg");return n=r("g").attr("buffered-rendering","dynamic"),e.appendChild(n),e}();var w={getNodeUI:function(n){return s[n]},getLinkUI:function(n){return c[n]},node:function(n){if("function"==typeof n)return d=n,this},link:function(n){if("function"==typeof n)return p=n,this},placeNode:function(n){return l=n,this},placeLink:function(n){return v=n,this},beginRender:function(){},endRender:function(){},graphCenterChanged:function(n,e){u=n,a=e,x()},inputManager:i,translateRel:function(t,r){var o=e.createSVGPoint(),i=n.getCTM(),u=e.createSVGPoint().matrixTransform(i.inverse());o.x=t,o.y=r,(o=o.matrixTransform(i.inverse())).x=(o.x-u.x)*i.a,o.y=(o.y-u.y)*i.d,i.e+=o.x,i.f+=o.y;var a="matrix("+i.a+", 0, 0,"+i.d+","+i.e+","+i.f+")";n.attr("transform",a)},scale:function(t,r){var o=e.createSVGPoint();o.x=r.x,o.y=r.y,o=o.matrixTransform(n.getCTM().inverse());var i=e.createSVGMatrix().translate(o.x,o.y).scale(t).translate(-o.x,-o.y),s=n.getCTM().multiply(i);f=s.a,u=s.e,a=s.f;var c="matrix("+s.a+", 0, 0,"+s.d+","+s.e+","+s.f+")";return n.attr("transform",c),h(this),f},resetScale:function(){f=1;return n.attr("transform","matrix(1, 0, 0, 1, 0, 0)"),h(this),this},init:function(n){n.appendChild(e),x(),"function"==typeof t&&t(e)},release:function(n){e&&n&&n.removeChild(e)},addLink:function(e,t){var r=p(e);if(r)return r.position=t,r.link=e,c[e.id]=r,n.childElementCount>0?n.insertBefore(r,n.firstChild):n.appendChild(r),r},releaseLink:function(e){var t=c[e.id];t&&(n.removeChild(t),delete c[e.id])},addNode:function(e,t){var r=d(e);if(r)return r.position=t,r.node=e,s[e.id]=r,n.appendChild(r),r},releaseNode:function(e){var t=s[e.id];t&&(n.removeChild(t),delete s[e.id])},renderNodes:function(){for(var n in s)if(s.hasOwnProperty(n)){var e=s[n];m.x=e.position.x,m.y=e.position.y,l(e,m,e.node)}},renderLinks:function(){for(var n in c)if(c.hasOwnProperty(n)){var e=c[n];g.x=e.position.from.x,g.y=e.position.from.y,y.x=e.position.to.x,y.y=e.position.to.y,v(e,g,y,e.link)}},getGraphicsRoot:function(n){return"function"==typeof n&&(e?n(e):t=n),e},getSvgRoot:function(){return e}};return o(w),w};var r=t(600),o=t(551),i=t(596)},692:function(n,e){n.exports="0.8.1"},693:function(n,e,t){n.exports=function(n){void 0===(n=n||{}).uniqueLinkId&&(n.uniqueLinkId=!0);var e="function"==typeof Object.create?Object.create(null):{},t=[],a={},f=0,s=0,c=Object.keys?I:T,d=n.uniqueLinkId?function(n,e,t){var r=n.toString()+"👉 "+e.toString(),o=a.hasOwnProperty(r);(o||N(n,e))&&(o||(a[r]=0),r+="@"+ ++a[r]);return new u(n,e,t,r)}:function(n,e,t){var r=n.toString()+e.toString();return new u(n,e,t,r)},l=[],p=P,v=P,h=P,m=P,g={addNode:b,addLink:function(n,e,r){h();var o=E(n)||b(n),i=E(e)||b(e),u=d(n,e,r);t.push(u),o.links.push(u),n!==e&&i.links.push(u);return p(u,"add"),m(),u},removeLink:L,removeNode:k,getNode:E,getNodesCount:function(){return f},getLinksCount:function(){return t.length},getLinks:function(n){var e=E(n);return e?e.links:null},forEachNode:c,forEachLinkedNode:function(n,t,r){var o=E(n);if(o&&o.links&&"function"==typeof t)return r?function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o];if(i.fromId===t&&r(e[i.toId],i))return!0}}(o.links,n,t):function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o],u=i.fromId===t?i.toId:i.fromId;if(r(e[u],i))return!0}}(o.links,n,t)},forEachLink:function(n){var e,r;if("function"==typeof n)for(e=0,r=t.length;e<r;++e)n(t[e])},beginUpdate:h,endUpdate:m,clear:function(){h(),c(function(n){k(n.id)}),m()},hasLink:N,getLink:N};return r(g),y=g.on,g.on=function(){return g.beginUpdate=h=_,g.endUpdate=m=A,p=x,v=w,g.on=y,y.apply(g,arguments)},g;var y;function x(n,e){l.push({link:n,changeType:e})}function w(n,e){l.push({node:n,changeType:e})}function b(n,t){if(void 0===n)throw new Error("Invalid node identifier");h();var r=E(n);return r?v(r,"update"):(r=new i(n),f++,v(r,"add")),r.data=t,e[n]=r,m(),r}function E(n){return e[n]}function k(n){var t=E(n);if(!t)return!1;for(h();t.links.length;){var r=t.links[0];L(r)}return delete e[n],f--,v(t,"remove"),m(),!0}function L(n){if(!n)return!1;var e=o(n,t);if(e<0)return!1;h(),t.splice(e,1);var r=E(n.fromId),i=E(n.toId);return r&&(e=o(n,r.links))>=0&&r.links.splice(e,1),i&&(e=o(n,i.links))>=0&&i.links.splice(e,1),p(n,"remove"),m(),!0}function N(n,e){var t,r=E(n);if(!r)return null;for(t=0;t<r.links.length;++t){var o=r.links[t];if(o.fromId===n&&o.toId===e)return o}return null}function P(){}function _(){s+=1}function A(){0===(s-=1)&&l.length>0&&(g.fire("changed",l),l.length=0)}function I(n){if("function"==typeof n)for(var t=Object.keys(e),r=0;r<t.length;++r)if(n(e[t[r]]))return!0}function T(n){var t;if("function"==typeof n)for(t in e)if(n(e[t]))return!0}};var r=t(551);function o(n,e){if(e.indexOf)return e.indexOf(n);var t,r=e.length;for(t=0;t<r;t+=1)if(e[t]===n)return t;return-1}function i(n){this.id=n,this.links=[],this.data=null}function u(n,e,t,r){this.fromId=n,this.toId=e,this.data=t,this.id=r}},694:function(n,e,t){n.exports=function(n,e,t){var i;e=e||o,t=t||o,i="string"==typeof n?JSON.parse(n):n;var u,a=r();if(void 0===i.links||void 0===i.nodes)throw new Error("Cannot load graph without links and nodes");for(u=0;u<i.nodes.length;++u){var f=e(i.nodes[u]);if(!f.hasOwnProperty("id"))throw new Error("Graph node format is invalid: Node id is missing");a.addNode(f.id,f.data)}for(u=0;u<i.links.length;++u){var s=t(i.links[u]);if(!s.hasOwnProperty("fromId")||!s.hasOwnProperty("toId"))throw new Error("Graph link format is invalid. Both fromId and toId are required");a.addLink(s.fromId,s.toId,s.data)}return a};var r=t(695);function o(n){return n}},695:function(n,e,t){n.exports=function(n){void 0===(n=n||{}).uniqueLinkId&&(n.uniqueLinkId=!0);var e="function"==typeof Object.create?Object.create(null):{},t=[],a={},f=0,s=0,c=Object.keys?I:T,d=n.uniqueLinkId?function(n,e,t){var r=n.toString()+"👉 "+e.toString(),o=a.hasOwnProperty(r);(o||N(n,e))&&(o||(a[r]=0),r+="@"+ ++a[r]);return new u(n,e,t,r)}:function(n,e,t){var r=n.toString()+e.toString();return new u(n,e,t,r)},l=[],p=P,v=P,h=P,m=P,g={addNode:b,addLink:function(n,e,r){h();var o=E(n)||b(n),i=E(e)||b(e),u=d(n,e,r);t.push(u),o.links.push(u),n!==e&&i.links.push(u);return p(u,"add"),m(),u},removeLink:L,removeNode:k,getNode:E,getNodesCount:function(){return f},getLinksCount:function(){return t.length},getLinks:function(n){var e=E(n);return e?e.links:null},forEachNode:c,forEachLinkedNode:function(n,t,r){var o=E(n);if(o&&o.links&&"function"==typeof t)return r?function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o];if(i.fromId===t&&r(e[i.toId],i))return!0}}(o.links,n,t):function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o],u=i.fromId===t?i.toId:i.fromId;if(r(e[u],i))return!0}}(o.links,n,t)},forEachLink:function(n){var e,r;if("function"==typeof n)for(e=0,r=t.length;e<r;++e)n(t[e])},beginUpdate:h,endUpdate:m,clear:function(){h(),c(function(n){k(n.id)}),m()},hasLink:N,getLink:N};return r(g),y=g.on,g.on=function(){return g.beginUpdate=h=_,g.endUpdate=m=A,p=x,v=w,g.on=y,y.apply(g,arguments)},g;var y;function x(n,e){l.push({link:n,changeType:e})}function w(n,e){l.push({node:n,changeType:e})}function b(n,t){if(void 0===n)throw new Error("Invalid node identifier");h();var r=E(n);return r?v(r,"update"):(r=new i(n),f++,v(r,"add")),r.data=t,e[n]=r,m(),r}function E(n){return e[n]}function k(n){var t=E(n);if(!t)return!1;for(h();t.links.length;){var r=t.links[0];L(r)}return delete e[n],f--,v(t,"remove"),m(),!0}function L(n){if(!n)return!1;var e=o(n,t);if(e<0)return!1;h(),t.splice(e,1);var r=E(n.fromId),i=E(n.toId);return r&&(e=o(n,r.links))>=0&&r.links.splice(e,1),i&&(e=o(n,i.links))>=0&&i.links.splice(e,1),p(n,"remove"),m(),!0}function N(n,e){var t,r=E(n);if(!r)return null;for(t=0;t<r.links.length;++t){var o=r.links[t];if(o.fromId===n&&o.toId===e)return o}return null}function P(){}function _(){s+=1}function A(){0===(s-=1)&&l.length>0&&(g.fire("changed",l),l.length=0)}function I(n){if("function"==typeof n)for(var t=Object.keys(e),r=0;r<t.length;++r)if(n(e[t[r]]))return!0}function T(n){var t;if("function"==typeof n)for(t in e)if(n(e[t]))return!0}};var r=t(551);function o(n,e){if(e.indexOf)return e.indexOf(n);var t,r=e.length;for(t=0;t<r;t+=1)if(e[t]===n)return t;return-1}function i(n){this.id=n,this.links=[],this.data=null}function u(n,e,t,r){this.fromId=n,this.toId=e,this.data=t,this.id=r}},696:function(n,e){n.exports=function(n,e,t){var r={nodes:[],links:[]},o=e||function(n){var e={id:n.id};void 0!==n.data&&(e.data=n.data);return e},i=t||function(n){var e={fromId:n.fromId,toId:n.toId};void 0!==n.data&&(e.data=n.data);return e};return n.forEachNode(function(n){r.nodes.push(o(n))}),n.forEachLink(function(n){r.links.push(i(n))}),JSON.stringify(r)}},697:function(n,e,t){var r=t(698);function o(n){return u(r.betweenness(n))}function i(n,e){return u(r.degree(n,e))}function u(n){return Object.keys(n).sort(function(e,t){return n[t]-n[e]}).map(function(e){return{key:e,value:n[e]}})}n.exports=function(){return{betweennessCentrality:o,degreeCentrality:i}}},698:function(n,e,t){n.exports.degree=t(699),n.exports.betweenness=t(700)},699:function(n,e){function t(n,e){for(var t=0,r=0;r<n.length;r+=1)t+=n[r].toId===e?1:0;return t}function r(n,e){for(var t=0,r=0;r<n.length;r+=1)t+=n[r].fromId===e?1:0;return t}function o(n){return n.length}n.exports=function(n,e){var i,u=Object.create(null);if("both"===(e=(e||"both").toLowerCase())||"inout"===e)i=o;else if("in"===e)i=t;else{if("out"!==e)throw new Error("Expected centrality degree kind is: in, out or both");i=r}return n.forEachNode(function(e){var t=n.getLinks(e.id);u[e.id]=i(t,e.id)}),u}},700:function(n,e){n.exports=function(n,e){var t,r=[],o=[],i=Object.create(null),u=Object.create(null),a=Object.create(null),f=Object.create(null),s=Object.create(null);n.forEachNode(function(n){s[n.id]=0}),n.forEachNode(function(d){(function(t){for(n.forEachNode(function(n){var e=n.id;i[e]=[],u[e]=-1,a[e]=0}),u[t]=0,a[t]=1,r.push(t);r.length;){var f=r.shift();Object.create(null),o.push(f),n.forEachLinkedNode(f,s,e)}function s(n){var e;e=n.id,-1===u[e]&&(u[e]=u[f]+1,r.push(e)),u[e]===u[f]+1&&(a[e]+=a[f],i[e].push(f))}})(t=d.id),function(){for(n.forEachNode(c);o.length;){for(var e=o.pop(),r=(1+f[e])/a[e],u=i[e],d=0;d<u.length;++d){var l=u[d];f[l]+=a[l]*r}e!==t&&(s[e]+=f[e])}}()}),e||Object.keys(s).forEach(function(n){s[n]/=2});return s;function c(n){f[n.id]=0}}},701:function(n,e){n.exports=function(){return{density:function(n,e){var t=n.getNodesCount();return 0===t?NaN:e?n.getLinksCount()/(t*(t-1)):2*n.getLinksCount()/(t*(t-1))}}}},702:function(n,e,t){var r=t(612);n.exports=function(n,e,t,o,i,u,a,f){return r(n,e,n,o,i,u,a,f)||r(n,o,t,o,i,u,a,f)||r(t,o,t,e,i,u,a,f)||r(t,e,n,e,i,u,a,f)}},703:function(n,e,t){n.exports={ladder:o,complete:function(n){if(!n||n<1)throw new Error("At least two nodes are expected for complete graph");var e,t,o=r();for(e=0;e<n;++e)for(t=e+1;t<n;++t)e!==t&&o.addLink(e,t);return o},completeBipartite:function(n,e){if(!n||!e||n<0||e<0)throw new Error("Graph dimensions are invalid. Number of nodes in each partition should be greater than 0");var t,o,i=r();for(t=0;t<n;++t)for(o=n;o<n+e;++o)i.addLink(t,o);return i},balancedBinTree:function(n){if(n<0)throw new Error("Invalid number of nodes in balanced tree");var e,t=r(),o=Math.pow(2,n);0===n&&t.addNode(1);for(e=1;e<o;++e){var i=e,u=2*i,a=2*i+1;t.addLink(i,u),t.addLink(i,a)}return t},path:function(n){if(!n||n<0)throw new Error("Invalid number of nodes");var e,t=r();for(t.addNode(0),e=1;e<n;++e)t.addLink(e-1,e);return t},circularLadder:function(n){if(!n||n<0)throw new Error("Invalid number of nodes");var e=o(n);return e.addLink(0,n-1),e.addLink(n,2*n-1),e},grid:function(n,e){if(n<1||e<1)throw new Error("Invalid number of nodes in grid graph");var t,o,i=r();if(1===n&&1===e)return i.addNode(0),i;for(t=0;t<n;++t)for(o=0;o<e;++o){var u=t+o*n;t>0&&i.addLink(u,t-1+o*n),o>0&&i.addLink(u,t+(o-1)*n)}return i},grid3:function(n,e,t){if(n<1||e<1||t<1)throw new Error("Invalid number of nodes in grid3 graph");var o,i,u,a=r();if(1===n&&1===e&&1===t)return a.addNode(0),a;for(u=0;u<t;++u)for(o=0;o<n;++o)for(i=0;i<e;++i){var f=u*n*e,s=o+i*n+f;o>0&&a.addLink(s,o-1+i*n+f),i>0&&a.addLink(s,o+(i-1)*n+f),u>0&&a.addLink(s,o+i*n+(u-1)*n*e)}return a},noLinks:function(n){if(n<0)throw new Error("Number of nodes shoul be >= 0");var e,t=r();for(e=0;e<n;++e)t.addNode(e);return t},wattsStrogatz:function(n,e,o,i){if(e>=n)throw new Error("Choose smaller `k`. It cannot be larger than number of nodes `n`");var u,a,f=t(560).random(i||42),s=r();for(u=0;u<n;++u)s.addNode(u);for(var c=Math.floor(e/2+1),d=1;d<c;++d)for(u=0;u<n;++u)a=(d+u)%n,s.addLink(u,a);for(d=1;d<c;++d)for(u=0;u<n;++u)if(f.nextDouble()<o){var l=u;a=(d+u)%n;var p=f.next(n),v=p===l||s.hasLink(l,p);if(v&&s.getLinks(l).length===n-1)continue;for(;v;)p=f.next(n),v=p===l||s.hasLink(l,p);var h=s.hasLink(l,a);s.removeLink(h),s.addLink(l,p)}return s}};var r=t(704);function o(n){if(!n||n<0)throw new Error("Invalid number of nodes");var e,t=r();for(e=0;e<n-1;++e)t.addLink(e,e+1),t.addLink(n+e,n+e+1),t.addLink(e,n+e);return t.addLink(n-1,2*n-1),t}},704:function(n,e,t){n.exports=function(n){void 0===(n=n||{}).uniqueLinkId&&(n.uniqueLinkId=!0);var e="function"==typeof Object.create?Object.create(null):{},t=[],a={},f=0,s=0,c=Object.keys?I:T,d=n.uniqueLinkId?function(n,e,t){var r=n.toString()+"👉 "+e.toString(),o=a.hasOwnProperty(r);(o||N(n,e))&&(o||(a[r]=0),r+="@"+ ++a[r]);return new u(n,e,t,r)}:function(n,e,t){var r=n.toString()+e.toString();return new u(n,e,t,r)},l=[],p=P,v=P,h=P,m=P,g={addNode:b,addLink:function(n,e,r){h();var o=E(n)||b(n),i=E(e)||b(e),u=d(n,e,r);t.push(u),o.links.push(u),n!==e&&i.links.push(u);return p(u,"add"),m(),u},removeLink:L,removeNode:k,getNode:E,getNodesCount:function(){return f},getLinksCount:function(){return t.length},getLinks:function(n){var e=E(n);return e?e.links:null},forEachNode:c,forEachLinkedNode:function(n,t,r){var o=E(n);if(o&&o.links&&"function"==typeof t)return r?function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o];if(i.fromId===t&&r(e[i.toId],i))return!0}}(o.links,n,t):function(n,t,r){for(var o=0;o<n.length;++o){var i=n[o],u=i.fromId===t?i.toId:i.fromId;if(r(e[u],i))return!0}}(o.links,n,t)},forEachLink:function(n){var e,r;if("function"==typeof n)for(e=0,r=t.length;e<r;++e)n(t[e])},beginUpdate:h,endUpdate:m,clear:function(){h(),c(function(n){k(n.id)}),m()},hasLink:N,getLink:N};return r(g),y=g.on,g.on=function(){return g.beginUpdate=h=_,g.endUpdate=m=A,p=x,v=w,g.on=y,y.apply(g,arguments)},g;var y;function x(n,e){l.push({link:n,changeType:e})}function w(n,e){l.push({node:n,changeType:e})}function b(n,t){if(void 0===n)throw new Error("Invalid node identifier");h();var r=E(n);return r?v(r,"update"):(r=new i(n),f++,v(r,"add")),r.data=t,e[n]=r,m(),r}function E(n){return e[n]}function k(n){var t=E(n);if(!t)return!1;for(h();t.links.length;){var r=t.links[0];L(r)}return delete e[n],f--,v(t,"remove"),m(),!0}function L(n){if(!n)return!1;var e=o(n,t);if(e<0)return!1;h(),t.splice(e,1);var r=E(n.fromId),i=E(n.toId);return r&&(e=o(n,r.links))>=0&&r.links.splice(e,1),i&&(e=o(n,i.links))>=0&&i.links.splice(e,1),p(n,"remove"),m(),!0}function N(n,e){var t,r=E(n);if(!r)return null;for(t=0;t<r.links.length;++t){var o=r.links[t];if(o.fromId===n&&o.toId===e)return o}return null}function P(){}function _(){s+=1}function A(){0===(s-=1)&&l.length>0&&(g.fire("changed",l),l.length=0)}function I(n){if("function"==typeof n)for(var t=Object.keys(e),r=0;r<t.length;++r)if(n(e[t[r]]))return!0}function T(n){var t;if("function"==typeof n)for(t in e)if(n(e[t]))return!0}};var r=t(551);function o(n,e){if(e.indexOf)return e.indexOf(n);var t,r=e.length;for(t=0;t<r;t+=1)if(e[t]===n)return t;return-1}function i(n){this.id=n,this.links=[],this.data=null}function u(n,e,t,r){this.fromId=n,this.toId=e,this.data=t,this.id=r}},705:function(n,e,t){var r=t(551);n.exports=function(n){if(console.log("This method is deprecated. Please use Viva.events() instead"),!n)return n;if(void 0!==n.on||void 0!==n.off||void 0!==n.fire)return{extend:function(){return n},on:n.on,stop:n.off};return{extend:function(){var e=r(n);return e.addEventListener=e.on,e},on:n.on,stop:n.off}}},706:function(n,e){n.exports=function(n,e,t,r,o){this.from=n,this.to=e,this.length=t,this.coeff=r,this.weight="number"==typeof o?o:1}},707:function(n,e,t){function r(n,e){return 0===e?n.quad0:1===e?n.quad1:2===e?n.quad2:3===e?n.quad3:null}function o(n,e,t){0===e?n.quad0=t:1===e?n.quad1=t:2===e?n.quad2=t:3===e&&(n.quad3=t)}n.exports=function(n){(n=n||{}).gravity="number"==typeof n.gravity?n.gravity:-1,n.theta="number"==typeof n.theta?n.theta:.8;var e=t(560).random(1984),i=t(708),u=t(709),a=t(710),f=n.gravity,s=[],c=new u,d=n.theta,l=[],p=0,v=h();return{insertBodies:function(n){var e,t=Number.MAX_VALUE,r=Number.MAX_VALUE,o=Number.MIN_VALUE,i=Number.MIN_VALUE,u=n.length;e=u;for(;e--;){var a=n[e].pos.x,f=n[e].pos.y;a<t&&(t=a),a>o&&(o=a),f<r&&(r=f),f>i&&(i=f)}var s=o-t,c=i-r;s>c?i=r+s:o=t+c;p=0,(v=h()).left=t,v.right=o,v.top=r,v.bottom=i,(e=u-1)>=0&&(v.body=n[e]);for(;e--;)m(n[e])},getRoot:function(){return v},updateBodyForce:function(n){var t,r,o,i,u=s,a=0,c=0,l=1,p=0,h=1;u[0]=v;for(;l;){var m=u[p],g=m.body;l-=1,p+=1;var y=g!==n;g&&y?(r=g.pos.x-n.pos.x,o=g.pos.y-n.pos.y,0===(i=Math.sqrt(r*r+o*o))&&(r=(e.nextDouble()-.5)/50,o=(e.nextDouble()-.5)/50,i=Math.sqrt(r*r+o*o)),t=f*g.mass*n.mass/(i*i*i),a+=t*r,c+=t*o):y&&(r=m.massX/m.mass-n.pos.x,o=m.massY/m.mass-n.pos.y,0===(i=Math.sqrt(r*r+o*o))&&(r=(e.nextDouble()-.5)/50,o=(e.nextDouble()-.5)/50,i=Math.sqrt(r*r+o*o)),(m.right-m.left)/i<d?(t=f*m.mass*n.mass/(i*i*i),a+=t*r,c+=t*o):(m.quad0&&(u[h]=m.quad0,l+=1,h+=1),m.quad1&&(u[h]=m.quad1,l+=1,h+=1),m.quad2&&(u[h]=m.quad2,l+=1,h+=1),m.quad3&&(u[h]=m.quad3,l+=1,h+=1)))}n.force.x+=a,n.force.y+=c},options:function(n){return n?("number"==typeof n.gravity&&(f=n.gravity),"number"==typeof n.theta&&(d=n.theta),this):{gravity:f,theta:d}}};function h(){var n=l[p];return n?(n.quad0=null,n.quad1=null,n.quad2=null,n.quad3=null,n.body=null,n.mass=n.massX=n.massY=0,n.left=n.right=n.top=n.bottom=0):(n=new i,l[p]=n),++p,n}function m(n){for(c.reset(),c.push(v,n);!c.isEmpty();){var t=c.pop(),i=t.node,u=t.body;if(i.body){var f=i.body;if(i.body=null,a(f.pos,u.pos)){var s=3;do{var d=e.nextDouble(),l=(i.right-i.left)*d,p=(i.bottom-i.top)*d;f.pos.x=i.left+l,f.pos.y=i.top+p,s-=1}while(s>0&&a(f.pos,u.pos));if(0===s&&a(f.pos,u.pos))return}c.push(i,f),c.push(i,u)}else{var m=u.pos.x,g=u.pos.y;i.mass=i.mass+u.mass,i.massX=i.massX+u.mass*m,i.massY=i.massY+u.mass*g;var y=0,x=i.left,w=(i.right+x)/2,b=i.top,E=(i.bottom+b)/2;m>w&&(y+=1,x=w,w=i.right),g>E&&(y+=2,b=E,E=i.bottom);var k=r(i,y);k?c.push(k,u):((k=h()).left=x,k.top=b,k.right=w,k.bottom=E,k.body=u,o(i,y,k))}}}}},708:function(n,e){n.exports=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0}},709:function(n,e){function t(){this.stack=[],this.popIdx=0}function r(n,e){this.node=n,this.body=e}n.exports=t,t.prototype={isEmpty:function(){return 0===this.popIdx},push:function(n,e){var t=this.stack[this.popIdx];t?(t.node=n,t.body=e):this.stack[this.popIdx]=new r(n,e),++this.popIdx},pop:function(){if(this.popIdx>0)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}}},710:function(n,e){n.exports=function(n,e){var t=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y);return t<1e-8&&r<1e-8}},711:function(n,e,t){n.exports=function(n,e){var r=t(560).random(42),o={x1:0,y1:0,x2:0,y2:0};return{box:o,update:function(){var e=n.length;if(0===e)return;var t=Number.MAX_VALUE,r=Number.MAX_VALUE,i=Number.MIN_VALUE,u=Number.MIN_VALUE;for(;e--;){var a=n[e];a.isPinned?(a.pos.x=a.prevPos.x,a.pos.y=a.prevPos.y):(a.prevPos.x=a.pos.x,a.prevPos.y=a.pos.y),a.pos.x<t&&(t=a.pos.x),a.pos.x>i&&(i=a.pos.x),a.pos.y<r&&(r=a.pos.y),a.pos.y>u&&(u=a.pos.y)}o.x1=t,o.x2=i,o.y1=r,o.y2=u},reset:function(){o.x1=o.y1=0,o.x2=o.y2=0},getBestNewPosition:function(n){var t=o,i=0,u=0;if(n.length){for(var a=0;a<n.length;++a)i+=n[a].pos.x,u+=n[a].pos.y;i/=n.length,u/=n.length}else i=(t.x1+t.x2)/2,u=(t.y1+t.y2)/2;var f=e.springLength;return{x:i+r.next(f)-f/2,y:u+r.next(f)-f/2}}}}},712:function(n,e,t){n.exports=function(n){var e=t(561),r={update:function(e){e.force.x-=n.dragCoeff*e.velocity.x,e.force.y-=n.dragCoeff*e.velocity.y}};return t(598)(n=e(n,{dragCoeff:.02}),r,["dragCoeff"]),r}},713:function(n,e,t){n.exports=function(n){var e=t(561),r=t(560).random(42),o={update:function(e){var t=e.from,o=e.to,i=e.length<0?n.springLength:e.length,u=o.pos.x-t.pos.x,a=o.pos.y-t.pos.y,f=Math.sqrt(u*u+a*a);0===f&&(u=(r.nextDouble()-.5)/50,a=(r.nextDouble()-.5)/50,f=Math.sqrt(u*u+a*a));var s=f-i,c=(!e.coeff||e.coeff<0?n.springCoeff:e.coeff)*s/f*e.weight;t.force.x+=c*u,t.force.y+=c*a,o.force.x-=c*u,o.force.y-=c*a}};return t(598)(n=e(n,{springCoeff:2e-4,springLength:80}),o,["springCoeff","springLength"]),o}},714:function(n,e){n.exports=function(n,e){var t,r=0,o=0,i=0,u=0,a=n.length;if(0===a)return 0;for(t=0;t<a;++t){var f=n[t],s=e/f.mass;f.velocity.x+=s*f.force.x,f.velocity.y+=s*f.force.y;var c=f.velocity.x,d=f.velocity.y,l=Math.sqrt(c*c+d*d);l>1&&(f.velocity.x=c/l,f.velocity.y=d/l),r=e*f.velocity.x,i=e*f.velocity.y,f.pos.x+=r,f.pos.y+=i,o+=Math.abs(r),u+=Math.abs(i)}return(o*o+u*u)/a}},715:function(n,e,t){var r=t(716);n.exports=function(n){return new r.Body(n)}},716:function(n,e){function t(n,e){this.pos=new r(n,e),this.prevPos=new r(n,e),this.force=new r,this.velocity=new r,this.mass=1}function r(n,e){n&&"number"!=typeof n?(this.x="number"==typeof n.x?n.x:0,this.y="number"==typeof n.y?n.y:0):(this.x="number"==typeof n?n:0,this.y="number"==typeof e?e:0)}function o(n,e,t){this.pos=new i(n,e,t),this.prevPos=new i(n,e,t),this.force=new i,this.velocity=new i,this.mass=1}function i(n,e,t){n&&"number"!=typeof n?(this.x="number"==typeof n.x?n.x:0,this.y="number"==typeof n.y?n.y:0,this.z="number"==typeof n.z?n.z:0):(this.x="number"==typeof n?n:0,this.y="number"==typeof e?e:0,this.z="number"==typeof t?t:0)}n.exports={Body:t,Vector2d:r,Body3d:o,Vector3d:i},t.prototype.setPosition=function(n,e){this.prevPos.x=this.pos.x=n,this.prevPos.y=this.pos.y=e},r.prototype.reset=function(){this.x=this.y=0},o.prototype.setPosition=function(n,e,t){this.prevPos.x=this.pos.x=n,this.prevPos.y=this.pos.y=e,this.prevPos.z=this.pos.z=t},i.prototype.reset=function(){this.x=this.y=this.z=0}},717:function(n,e,t){n.exports=function(n,e){e=r(e,{maxX:1024,maxY:1024,seed:"Deterministic randomness made me do this"});var t=o(e.seed),u=new i(Number.MAX_VALUE,Number.MAX_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),a={},f=function(n){return{x:t.next(e.maxX),y:t.next(e.maxY)}},s="function"==typeof Object.create?Object.create(null):{},c=function(n){s[n.id]=f(n),function(n,e){n.x<e.x1&&(e.x1=n.x);n.x>e.x2&&(e.x2=n.x);n.y<e.y1&&(e.y1=n.y);n.y>e.y2&&(e.y2=n.y)}(s[n.id],u)},d=function(){0!==n.getNodesCount()&&(u.x1=Number.MAX_VALUE,u.y1=Number.MAX_VALUE,u.x2=Number.MIN_VALUE,u.y2=Number.MIN_VALUE,n.forEachNode(c))},l=function(n){a[n.id]=n},p=function(n){for(var e=0;e<n.length;++e){var t=n[e];t.node&&("add"===t.changeType?c(t.node):delete s[t.node.id]),t.link&&("add"===t.changeType?l(t.link):delete a[t.link.id])}};return n.forEachNode(c),n.forEachLink(l),n.on("changed",p),{run:function(n){this.step()},step:function(){return d(),!0},getGraphRect:function(){return u},dispose:function(){n.off("change",p)},isNodePinned:function(n){return!0},pinNode:function(n,e){},getNodePosition:v,getLinkPosition:function(n){var e=a[n];return{from:v(e.fromId),to:v(e.toId)}},setNodePosition:function(n,e,t){var r=s[n];r&&(r.x=e,r.y=t)},placeNode:function(n){return"function"==typeof n?(f=n,d(),this):f(n)}};function v(n){return s[n]}};var r=t(561),o=t(560).random,i=t(623)},718:function(n,e,t){var r=t(625),o=t(575);n.exports=function(){var n,e,t,i,u,a,f,s,c,d,l=18,p=["precision mediump float;","varying vec4 color;","varying vec3 vTextureCoord;","uniform sampler2D u_sampler0;","uniform sampler2D u_sampler1;","uniform sampler2D u_sampler2;","uniform sampler2D u_sampler3;","void main(void) {","   if (vTextureCoord.z == 0.) {","     gl_FragColor = texture2D(u_sampler0, vTextureCoord.xy);","   } else if (vTextureCoord.z == 1.) {","     gl_FragColor = texture2D(u_sampler1, vTextureCoord.xy);","   } else if (vTextureCoord.z == 2.) {","     gl_FragColor = texture2D(u_sampler2, vTextureCoord.xy);","   } else if (vTextureCoord.z == 3.) {","     gl_FragColor = texture2D(u_sampler3, vTextureCoord.xy);","   } else { gl_FragColor = vec4(0, 1, 0, 1); }","}"].join("\n"),v=["attribute vec2 a_vertexPos;","attribute float a_customAttributes;","uniform vec2 u_screenSize;","uniform mat4 u_transform;","uniform float u_tilesPerTexture;","varying vec3 vTextureCoord;","void main(void) {","   gl_Position = u_transform * vec4(a_vertexPos/u_screenSize, 0, 1);","float corner = mod(a_customAttributes, 4.);","float tileIndex = mod(floor(a_customAttributes / 4.), u_tilesPerTexture);","float tilesPerRow = sqrt(u_tilesPerTexture);","float tileSize = 1./tilesPerRow;","float tileColumn = mod(tileIndex, tilesPerRow);","float tileRow = floor(tileIndex/tilesPerRow);","if(corner == 0.0) {","  vTextureCoord.xy = vec2(0, 1);","} else if(corner == 1.0) {","  vTextureCoord.xy = vec2(1, 1);","} else if(corner == 2.0) {","  vTextureCoord.xy = vec2(0, 0);","} else {","  vTextureCoord.xy = vec2(1, 0);","}","vTextureCoord *= tileSize;","vTextureCoord.x += tileColumn * tileSize;","vTextureCoord.y += tileRow * tileSize;","vTextureCoord.z = floor(floor(a_customAttributes / 4.)/u_tilesPerTexture);","}"].join("\n"),h=1024,m=0,g=new Float32Array(64);return{load:function(f){t=f,u=o(f),n=new r(h),e=u.createProgram(v,p),t.useProgram(e),a=u.getLocations(e,["a_vertexPos","a_customAttributes","u_screenSize","u_transform","u_sampler0","u_sampler1","u_sampler2","u_sampler3","u_tilesPerTexture"]),t.uniform1f(a.tilesPerTexture,h),t.enableVertexAttribArray(a.vertexPos),t.enableVertexAttribArray(a.customAttributes),i=t.createBuffer()},position:function(n,e){var t=n.id*l;g[t]=e.x-n.size,g[t+1]=e.y-n.size,g[t+2]=4*n._offset,g[t+3]=e.x+n.size,g[t+4]=e.y-n.size,g[t+5]=4*n._offset+1,g[t+6]=e.x-n.size,g[t+7]=e.y+n.size,g[t+8]=4*n._offset+2,g[t+9]=e.x-n.size,g[t+10]=e.y+n.size,g[t+11]=4*n._offset+2,g[t+12]=e.x+n.size,g[t+13]=e.y-n.size,g[t+14]=4*n._offset+1,g[t+15]=e.x+n.size,g[t+16]=e.y+n.size,g[t+17]=4*n._offset+3},createNode:function(e){g=u.extendArray(g,m,l),m+=1;var t=n.getCoordinates(e.src);t?e._offset=t.offset:(e._offset=0,n.load(e.src,function(n){e._offset=n.offset}))},removeNode:function(e){m>0&&(m-=1);e.id<m&&m>0&&(e.src&&n.remove(e.src),u.copyArrayPart(g,e.id*l,m*l,l))},replaceProperties:function(n,e){e._offset=n._offset},updateTransform:function(n){d=!0,c=n},updateSize:function(n,e){f=n,s=e,d=!0},render:function(){t.useProgram(e),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,g,t.DYNAMIC_DRAW),d&&(d=!1,t.uniformMatrix4fv(a.transform,!1,c),t.uniform2f(a.screenSize,f,s));t.vertexAttribPointer(a.vertexPos,2,t.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(a.customAttributes,1,t.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,8),function(){if(n.isDirty){var e,t=n.getTextures();for(e=0;e<t.length;++e)!t[e].isDirty&&t[e].nativeObject||y(t[e],e);n.clearDirty()}}(),t.drawArrays(t.TRIANGLES,0,6*m)}};function y(n,e){n.nativeObject&&t.deleteTexture(n.nativeObject);var r=t.createTexture();t.activeTexture(t["TEXTURE"+e]),t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n.canvas),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.uniform1i(a["sampler"+e],e),n.nativeObject=r}}},719:function(n,e){n.exports=function(n,e){return{_texture:0,_offset:0,size:"number"==typeof n?n:32,src:e}}},720:function(n,e,t){n.exports=function(n){n=s(n,{enableBlending:!0,preserveDrawingBuffer:!1,clearColor:!1,clearColorValue:{r:1,g:1,b:1,a:1}});var e,t,c,d,l,p,v,h,m=0,g=0,y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],x=[],w=[],b={},E={},k=o(),L=i(),N=function(n){return u()},P=function(n){return a(3014898687)},_=function(){k.updateTransform(y),L.updateTransform(y)},A=function(){y=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},I=function(){e&&t&&(d=t.width=Math.max(e.offsetWidth,1),l=t.height=Math.max(e.offsetHeight,1),c&&c.viewport(0,0,d,l),k&&k.updateSize(d/2,l/2),L&&L.updateSize(d/2,l/2))};t=window.document.createElement("canvas");var T={getLinkUI:function(n){return E[n]},getNodeUI:function(n){return b[n]},node:function(n){if("function"==typeof n)return N=n,this},link:function(n){if("function"==typeof n)return P=n,this},placeNode:function(n){return p=n,this},placeLink:function(n){return v=n,this},inputManager:r,beginRender:function(){},endRender:function(){g>0&&k.render(),m>0&&L.render()},bringLinkToFront:function(n){var e,t,r=k.getFrontLinkId();k.bringToFront(n),r>n.id&&(e=n.id,t=w[r],w[r]=w[e],w[r].id=r,w[e]=t,w[e].id=e)},graphCenterChanged:function(n,e){y[12]=2*n/d-1,y[13]=1-2*e/l,_()},addLink:function(n,e){var t=g++,r=P(n);return r.id=t,r.pos=e,k.createLink(r),w[t]=r,E[n.id]=r,r},addNode:function(n,e){var t=m++,r=N(n);return r.id=t,r.position=e,r.node=n,L.createNode(r),x[t]=r,b[n.id]=r,r},translateRel:function(n,e){y[12]+=2*y[0]*n/d/y[0],y[13]-=2*y[5]*e/l/y[5],_()},scale:function(n,e){var t=2*e.x/d-1,r=1-2*e.y/l;return t-=y[12],r-=y[13],y[12]+=t*(1-n),y[13]+=r*(1-n),y[0]*=n,y[5]*=n,_(),this.fire("rescaled"),y[0]},resetScale:function(){return A(),c&&(I(),_()),this},updateSize:I,init:function(r){var o={};if(n.preserveDrawingBuffer&&(o.preserveDrawingBuffer=!0),e=r,I(),A(),e.appendChild(t),!(c=t.getContext("experimental-webgl",o))){var i="Could not initialize WebGL. Seems like the browser doesn't support it.";throw window.alert(i),i}if(n.enableBlending&&(c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),c.enable(c.BLEND)),n.clearColor){var u=n.clearColorValue;c.clearColor(u.r,u.g,u.b,u.a),this.beginRender=function(){c.clear(c.COLOR_BUFFER_BIT)}}k.load(c),k.updateSize(d/2,l/2),L.load(c),L.updateSize(d/2,l/2),_(),"function"==typeof h&&h(t)},release:function(n){t&&n&&n.removeChild(t)},isSupported:function(){var n=window.document.createElement("canvas"),e=n&&n.getContext&&n.getContext("experimental-webgl");return e},releaseLink:function(n){g>0&&(g-=1);var e=E[n.id];delete E[n.id],k.removeLink(e);var t=e.id;if(t<g){if(0===g||g===t)return;var r=w[g];w[t]=r,r.id=t}},releaseNode:function(n){m>0&&(m-=1);var e=b[n.id];delete b[n.id],L.removeNode(e);var t=e.id;if(t<m){if(0===m||m===t)return;var r=x[m];x[t]=r,r.id=t,L.replaceProperties(e,r)}},renderNodes:function(){for(var n={x:0,y:0},e=0;e<m;++e){var t=x[e];n.x=t.position.x,n.y=t.position.y,p&&p(t,n),L.position(t,n)}},renderLinks:function(){if(!this.omitLinksRendering)for(var n={x:0,y:0},e={x:0,y:0},t=0;t<g;++t){var r=w[t],o=r.pos.from;e.x=o.x,e.y=-o.y,o=r.pos.to,n.x=o.x,n.y=-o.y,v&&v(r,e,n),k.position(r,e,n)}},getGraphicsRoot:function(n){return"function"==typeof n&&(t?n(t):h=n),t},setNodeProgram:function(n){if(!c&&n)L=n;else if(n)throw"Not implemented. Cannot swap shader on the fly... Yet."},setLinkProgram:function(n){if(!c&&n)k=n;else if(n)throw"Not implemented. Cannot swap shader on the fly... Yet."},transformClientToGraphCoordinates:function(n){return n.x=2*n.x/d-1,n.y=1-2*n.y/l,n.x=(n.x-y[12])/y[0],n.y=(n.y-y[13])/y[5],n.x=n.x*(d/2),n.y=n.y*(-l/2),n},transformGraphToClientCoordinates:function(n){return n.x=n.x/(d/2),n.y=n.y/(-l/2),n.x=n.x*y[0]+y[12],n.y=n.y*y[5]+y[13],n.x=(n.x+1)*d/2,n.y=(1-n.y)*l/2,n},getNodeAtClientPos:function(n,e){if("function"!=typeof e)return null;this.transformClientToGraphCoordinates(n);for(var t=0;t<m;++t)if(e(x[t],n.x,n.y))return x[t].node;return null}};return f(T),T};var r=t(618),o=t(626),i=t(627),u=t(629),a=t(628),f=t(551),s=t(561)},721:function(n,e,t){var r=t(722),o=t(600);n.exports=function(n){try{return n=function(n){if(!n)return;var e=n.match(/^<\w+/);if(e){var t=e[0].length;return n.substr(0,t)+' xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" '+n.substr(t)}throw new Error("Cannot parse input text: invalid xml?")}(n),o(r.parseFromString(n,"text/xml").documentElement)}catch(n){throw n}}},722:function(n,e){function t(){throw new Error("DOMParser is not supported by this platform. Please open issue here https://github.com/anvaka/simplesvg")}n.exports=function(){if("undefined"==typeof DOMParser)return{parseFromString:t};return new DOMParser}()},723:function(n,e){n.exports=function(n){var e=Object.create(null);return function n(e,o){var i=e.nodeType,u=1===i||3===i;if(u){var a;if(e.hasChildNodes()){var f=e.childNodes;for(a=0;a<f.length;++a)n(f[a],o)}if(3===i&&function(n,e){var r=n.nodeValue;if(r){var o=r.match(t);if(o){var i=o[1],u=(i.indexOf("."),e[i]);u?u.push(a):u=e[i]=[a]}}function a(e){n.nodeValue=e[i]}}(e,o),e.attributes){var s=e.attributes;for(a=0;a<s.length;++a)r(s[a],e,o)}}}(n,e),{link:function(n){function t(e){e(n)}Object.keys(e).forEach(function(n){e[n].forEach(t)})}}};var t=/{{(.+?)}}/;function r(n,e,r){var o=n.value;if(o){var i=o.match(t);if(i){var u=n.localName,a=i[1];if(!(a.indexOf(".")<0))throw new Error("simplesvg currently does not support nested bindings");var f=r[a];f?f.push(s):f=r[a]=[s]}}function s(n){e.setAttributeNS(null,u,n[a])}}},724:function(n,e){r.removeEventListener=function(n,e,r,f){return(t=t||(document.addEventListener?{add:o,rm:i}:{add:u,rm:a})).rm(n,e,r,f)},r.addEventListener=r,n.exports=r;var t=null;function r(n,e,r,f){return(t=t||(document.addEventListener?{add:o,rm:i}:{add:u,rm:a})).add(n,e,r,f)}function o(n,e,t,r){n.addEventListener(e,t,r)}function i(n,e,t,r){n.removeEventListener(e,t,r)}function u(n,e,t,r){if(r)throw new Error("cannot useCapture in oldIE");n.attachEvent("on"+e,t)}function a(n,e,t,r){n.detachEvent("on"+e,t)}},725:function(n,e,t){n.exports=function(n,e){var t,d,l,p=30,v=(e=e||{}).layout,h=e.graphics,m=e.container,g=void 0===e.interactive||e.interactive,y=!1,x=!0,w=!1,b=!1,E=!1,k={offsetX:0,offsetY:0,scale:1},L=r({});return{run:function(r){return y||(!function(){m=m||window.document.body,v=v||o(n,{springLength:80,springCoeff:2e-4}),h=h||i(n,{container:m}),e.hasOwnProperty("renderLinks")||(e.renderLinks=!0);e.prerender=e.prerender||0,t=(h.inputManager||a)(n,h)}(),function(){if("number"==typeof e.prerender&&e.prerender>0)for(var n=0;n<e.prerender;n+=1)v.step()}(),h.init(m),n.forEachNode(T),e.renderLinks&&n.forEachLink(S),I(),function(){u.on("resize",z),U(),N("drag")&&(l=c(m)).onDrag(function(n,e){h.translateRel(e.x,e.y),P(),L.fire("drag",e)});N("scroll")&&(l||(l=c(m)),l.onScroll(function(n,e,t){Y(e<0,t)}));n.forEachNode(R),q(),n.on("changed",F)}(),y=!0),function(n){if(d)return;d=f(void 0!==n?function(){if((n-=1)<0){return!1}return _()}:_,p)}(r),this},reset:function(){h.resetScale(),I(),k.scale=1},pause:function(){E=!0,d.stop()},resume:function(){E=!1,d.restart()},rerender:function(){return P(),this},zoomOut:function(){return Y(!0)},zoomIn:function(){return Y(!1)},getTransform:function(){return k},moveTo:function(n,e){h.graphCenterChanged(k.offsetX-n*k.scale,k.offsetY-e*k.scale),P()},getGraphics:function(){return h},dispose:function(){y=!1,q(),U(),u.off("resize",z),L.off(),d.stop(),n.forEachLink(function(n){e.renderLinks&&D(n)}),n.forEachNode(function(n){O(n),C(n)}),v.dispose(),h.release(m)},on:function(n,e){return L.on(n,e),this},off:function(n,e){return L.off(n,e),this}};function N(n){return"string"==typeof g?g.indexOf(n)>=0:"boolean"!=typeof g||g}function P(){h.beginRender(),e.renderLinks&&h.renderLinks(),h.renderNodes(),h.endRender()}function _(){return w=v.step()&&!b,P(),!w}function A(){E||(w=!1,d.restart())}function I(){var n=v.getGraphRect(),e=s(m),t=(n.x2+n.x1)/2,r=(n.y2+n.y1)/2;k.offsetX=e.width/2-(t*k.scale-t),k.offsetY=e.height/2-(r*k.scale-r),h.graphCenterChanged(k.offsetX,k.offsetY),x=!1}function T(n){var e=v.getNodePosition(n.id);h.addNode(n,e)}function C(n){h.releaseNode(n)}function S(n){var e=v.getLinkPosition(n.id);h.addLink(n,e)}function D(n){h.releaseLink(n)}function R(n){if(N("node")){var e=!1;t.bindDragNDrop(n,{onStart:function(){e=v.isNodePinned(n),v.pinNode(n,!0),b=!0,A()},onDrag:function(e,t){var r=v.getNodePosition(n.id);v.setNodePosition(n.id,r.x+t.x/k.scale,r.y+t.y/k.scale),b=!0,P()},onStop:function(){v.pinNode(n,e),b=!1}})}}function O(n){t.bindDragNDrop(n,null)}function M(e){var t=e.node;"add"===e.changeType?(T(t),R(t),x&&I()):"remove"===e.changeType?(O(t),C(t),0===n.getNodesCount()&&(x=!0)):"update"===e.changeType&&(O(t),C(t),T(t),R(t))}function B(n){var t=n.link;if("add"===n.changeType)e.renderLinks&&S(t);else if("remove"===n.changeType)e.renderLinks&&D(t);else if("update"===n.changeType)throw"Update type is not implemented. TODO: Implement me!"}function F(n){var e,t;for(e=0;e<n.length;e+=1)(t=n[e]).node?M(t):t.link&&B(t);A()}function z(){I(),_()}function U(){l&&(l.release(),l=null)}function q(){n.off("changed",F)}function Y(n,e){if(!e){var t=s(m);e={x:t.width/2,y:t.height/2}}var r=Math.pow(1.4,n?-.2:.2);return k.scale=h.scale(r,e),P(),L.fire("scale",k.scale),k.scale}};var r=t(551),o=t(621),i=t(630),u=t(726),a=t(596),f=t(619),s=t(620),c=t(597)},726:function(n,e,t){var r=t(615);function o(n,e){window.addEventListener(n,e)}function i(n,e){window.removeEventListener(n,e)}n.exports=function(){if("undefined"==typeof window)return r;return{on:o,off:i}}()}}]);